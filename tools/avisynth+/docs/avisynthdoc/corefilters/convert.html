

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>ConvertBackToYUY2 / ConvertToRGB / ConvertToRGB24 / ConvertToRGB32 / ConvertToY8 / ConvertToYUY2 / ConvertToYV12 / ConvertToYV16 / ConvertToYV24 / ConvertToYV411 &#8212; AviSynth+ 3.4 documentation</title>
    <link rel="stylesheet" href="../../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/bizstyle.js"></script>
    <link rel="shortcut icon" href="../../_static/AvsiDoc.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="ConvertAudio" href="convertaudio.html" />
    <link rel="prev" title="ConditionalReader" href="conditionalreader.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="convertaudio.html" title="ConvertAudio"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="conditionalreader.html" title="ConditionalReader"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">AviSynth+ 3.4 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Invisible Tree</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/DocIcon-Large.svg" alt="Logo"/>
            </a></p>
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">ConvertBackToYUY2 / ConvertToRGB / ConvertToRGB24 / ConvertToRGB32 / ConvertToY8 / ConvertToYUY2 / ConvertToYV12 / ConvertToYV16 / ConvertToYV24 / ConvertToYV411</a><ul>
<li><a class="reference internal" href="#colorformats">Colorformats</a></li>
<li><a class="reference internal" href="#options">Options</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#conversion-paths">Conversion paths</a></li>
<li><a class="reference internal" href="#sampling">Sampling</a></li>
<li><a class="reference internal" href="#color-conversions">Color conversions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="conditionalreader.html"
                        title="previous chapter">ConditionalReader</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="convertaudio.html"
                        title="next chapter">ConvertAudio</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/avisynthdoc/corefilters/convert.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="convertbacktoyuy2-converttorgb-converttorgb24-converttorgb32-converttoy8-converttoyuy2-converttoyv12-converttoyv16-converttoyv24-converttoyv411">
<h1>ConvertBackToYUY2 / ConvertToRGB / ConvertToRGB24 / ConvertToRGB32 / ConvertToY8 / ConvertToYUY2 / ConvertToYV12 / ConvertToYV16 / ConvertToYV24 / ConvertToYV411<a class="headerlink" href="#convertbacktoyuy2-converttorgb-converttorgb24-converttorgb32-converttoy8-converttoyuy2-converttoyv12-converttoyv16-converttoyv24-converttoyv411" title="Permalink to this headline">¶</a></h1>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">ConvertToRGB</span></code> (clip [, string “matrix”] [, bool “interlaced”] [, string
“ChromaInPlacement”] [, string “chromaresample”])</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">ConvertToRGB24</span></code> (clip [, string “matrix”] [, bool “interlaced”] [, string
“ChromaInPlacement”] [, string “chromaresample”])</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">ConvertToRGB32</span></code> (clip [, string “matrix”] [, bool “interlaced”] [, string
“ChromaInPlacement”] [, string “chromaresample”])</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">ConvertToYUY2</span></code> (clip [, bool “interlaced”] [, string “matrix”] [, string
“ChromaInPlacement”] [, string “chromaresample”])``</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">ConvertBackToYUY2</span></code> (clip [, string “matrix”])</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">ConvertToY8</span></code> (clip [, string “matrix”])</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">ConvertToYV411</span></code> (clip [, bool “interlaced”] [, string “matrix”] [, string
“ChromaInPlacement”] [, string “chromaresample”])</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">ConvertToYV12</span></code> (clip [, bool “interlaced”] [, string “matrix”] [, string
“ChromaInPlacement”] [, string “chromaresample”] [, string
“ChromaOutPlacement”])</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">ConvertToYV16</span></code> (clip [, bool “interlaced”] [, string “matrix”] [, string
“ChromaInPlacement”] [, string “chromaresample”])</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">ConvertToYV24</span></code> (clip [, bool “interlaced”] [, string “matrix”] [, string
“ChromaInPlacement”] [, string “chromaresample”])</div>
</div>
<div class="section" id="colorformats">
<h2>Colorformats<a class="headerlink" href="#colorformats" title="Permalink to this headline">¶</a></h2>
<p>The following formats can be converted to and from.</p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="26%" />
<col width="55%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">colorformats</th>
<th class="head">planar/interleaved</th>
<th class="head">chroma resolution</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>RGB</td>
<td>interleaved</td>
<td>full chroma - 4:4:4</td>
</tr>
<tr class="row-odd"><td>RGB24</td>
<td>interleaved</td>
<td>full chroma - 4:4:4</td>
</tr>
<tr class="row-even"><td>RGB32</td>
<td>interleaved</td>
<td>full chroma - 4:4:4</td>
</tr>
<tr class="row-odd"><td>YUY2</td>
<td>planar</td>
<td>chroma shared between 2 pixels - 4:2:2</td>
</tr>
<tr class="row-even"><td>Y8</td>
<td>planar/interleaved</td>
<td>no chroma - 4:0:0</td>
</tr>
<tr class="row-odd"><td>YV411</td>
<td>planar</td>
<td>chroma shared between 4 pixels - 4:1:1</td>
</tr>
<tr class="row-even"><td>YV12</td>
<td>planar</td>
<td>chroma shared between 2x2 pixels - 4:2:0</td>
</tr>
<tr class="row-odd"><td>YV16</td>
<td>planar</td>
<td>chroma shared between 2 pixels - 4:2:2</td>
</tr>
<tr class="row-even"><td>YV24</td>
<td>planar</td>
<td>full chroma - 4:4:4</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<p><em>matrix</em>: Default Rec601. Controls the colour coefficients and scaling factors
used in RGB - YUV conversions.</p>
<ul class="simple">
<li>“Rec601” : Uses Rec.601 coefficients, scaled to TV range [16,235].</li>
<li>“PC.601” : Uses Rec.601 coefficients, keep full range [0,255].</li>
<li>“Rec709” : Uses Rec.709 coefficients, scaled to TV range.</li>
<li>“PC.709” : Uses Rec.709 coefficients, keep full range.</li>
<li>“AVERAGE” : Uses averaged coefficients, keep full range (added in
<em>v2.60</em>). (So the luma becomes the average of the RGB channels.)</li>
</ul>
<p><em>interlaced</em>: Default false. Use interlaced layout for YV12 chroma conversions.</p>
<p><em>ChromaInPlacement</em> (added in <em>v2.60</em>): This determines the chroma placement
when converting from YV12. It can be “MPEG2” (default), “MPEG1” and “DV”.</p>
<p><em>chromaresample</em> (added in <em>v2.60</em>): This determines which resizer is used in
the conversion. It is used when the chroma resolution of the source and
target is different. It can be all resamplers, default is “bicubic”.</p>
<p><em>ChromaOutPlacement</em> (added in <em>v2.60</em>): This determines the chroma placement
when converting to YV12. It can be “MPEG2” (default), “MPEG1” and “DV”.</p>
<p>AviSynth prior to <em>v2.50</em> can deal internally with two color formats, RGB and
YUY2. Starting from v2.50 AviSynth can also deal with a third color format,
YV12. These filters convert between them. If the video is already in the
specified format, it will be passed through unchanged. RGB is assumed
throughout this doc to mean RGBA = RGB32. <code class="docutils literal notranslate"><span class="pre">ConvertToRGB</span></code> converts to RGB32
unless your clip is RGB24. If you need 24-bit RGB for some reason, use
<code class="docutils literal notranslate"><span class="pre">ConvertToRGB24</span></code> explicitly and <code class="docutils literal notranslate"><span class="pre">ConvertToRGB32</span></code> to do the reverse.</p>
<p>In <em>v2.60</em> the following additional formats are supported:</p>
<ul class="simple">
<li>Y8 greyscale (it is both planar and interleaved since it contains no chroma; 4:0:0)</li>
<li>YV411 (planar; YUV 4:1:1)</li>
<li>YV16 (a planar version of YUY2; 4:2:2) and</li>
<li>YV24 (planar; YUV 4:4:4).</li>
</ul>
<p>Syntax and operation of <code class="docutils literal notranslate"><span class="pre">ConvertToRGB24</span></code> is identical to <code class="docutils literal notranslate"><span class="pre">ConvertToRGB</span></code>,
except that the output format is 24-bit; if the source is RGB32, the alpha
channel will be stripped.</p>
<p>Since v2.51/v2.52 an optional interlaced parameter is added
(interlaced*=*false is the default operation). When set to false it is
assumed that clip is progressive, when set to true it is assumed that clip is
interlaced. This option is added because for example (assuming clip is
interlaced YV12):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SeparateFields</span><span class="p">(</span><span class="n">clip</span><span class="p">)</span>
<span class="n">ConvertToYV12</span>
</pre></div>
</div>
<p>Weave is upsampled incorrectly. Instead it is better to use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ConvertToYV12</span><span class="p">(</span><span class="n">clip</span><span class="p">,</span> <span class="n">interlaced</span><span class="o">=</span><span class="n">true</span><span class="p">)</span>
</pre></div>
</div>
<p>Note, the interlaced=true setting only does something if the conversion
YV12 &lt;-&gt; YUY2/RGB is requested, otherwise it’s simply ignored. More about
it can be found here “<a class="reference internal" href="../advancedtopics/interlaced_fieldbased.html"><span class="doc">Color conversions and interlaced / field-based video</span></a>”.</p>
<p>When the target format is the same as the source format, the original clip
will be returned. Except for the following situation: When both formats are
YV12, the source clip will be processed when ChromaInPlacement and
ChromaOutPlacement differ. So this can be used to change the chroma placement
in a YV12 clip.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>Contrary to what one might expect, there is no unique way of converting YUV
to RGB. In AviSynth the two most common ones are implemented: Rec.601 and
Rec.709 (named after their official specifications). Although it will not be
correct in all cases, the following shoud be correct in most cases:</p>
<p>The first one (Rec.601) should be used when your source is DivX/XviD or some
analogue capture:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ConvertToRGB</span><span class="p">(</span><span class="n">clip</span><span class="p">)</span>
</pre></div>
</div>
<p>The second one (Rec.709) should be used when your source is DVD or
HDTV:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ConvertToRGB</span><span class="p">(</span><span class="n">clip</span><span class="p">,</span> <span class="n">matrix</span><span class="o">=</span><span class="s2">&quot;rec709&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>In <em>v2.56</em>, the reverse is also available, that is</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ConvertToYUY2</span><span class="p">(</span><span class="n">clip</span><span class="p">,</span> <span class="n">matrix</span><span class="o">=</span><span class="s2">&quot;rec709&quot;</span><span class="p">)</span>

<span class="ow">or</span>

<span class="n">ConvertToYV12</span><span class="p">(</span><span class="n">clip</span><span class="p">,</span> <span class="n">matrix</span><span class="o">=</span><span class="s2">&quot;rec709&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>In <em>v2.56</em>, matrix=”pc.601” (and matrix=”pc.709”) enables you to do the RGB
&lt;-&gt; YUV conversion while keeping the luma range, thus RGB [0,255] &lt;-&gt; YUV
[0,255] (instead of the usual/default RGB [0,255] &lt;-&gt; YUV [16,235]).</p>
<p>All VirtualDub filters (loaded with <code class="docutils literal notranslate"><span class="pre">LoadVirtualdubPlugin</span></code>, see <a class="reference internal" href="../syntax/syntax.html#syntax-rst-plugins"><span class="std std-ref">Plugins</span></a>)
support only RGB32 input.</p>
<p><strong>RGB24, RGB32:</strong> The colors are stored as values of red, green and blue. In
RGB32 there is an extra alpha channel for opacity. The image dimensions can
have any values.</p>
<p><strong>YUY2:</strong> The picture is stored as a luma value Y and two color values U, V.
For two horizontal pixels there is only one chroma value and two luma values
(two Y’s, one U, one V). Therefore the width has to be a multiple of two.</p>
<p><strong>YV8:</strong> Greyscale. Thus the same as YV24 without the chroma planes.</p>
<p><strong>YV411:</strong> Similar as YV12 but with only one chroma value for 4 pixels (a 1x4
square). The horizontal image dimension has to be a multiple of four.</p>
<p><strong>YV12:</strong> The same as YUY2 but there is only one chroma value for 4 pixels (a
2x2 square). Both image dimensions have to be a multiple of two, if the video
is interlaced the height has to be a multiple of four because the 2x2 square
is taken from a field, not from a frame.</p>
<p><strong>YV16:</strong> The same as YUY2 but planar instead of interleaved.</p>
<p><strong>YV24:</strong> The same as YV12/YV16, but with full chroma.</p>
<p>Some functions check for the dimension rules, some round the parameters,
there still can be some where an picture distortion or an error occurs.</p>
<p>Working in YUY2 is faster than in RGB. YV12 is even faster and is the native
MPEG format, so there are fewer colorspace conversions.</p>
<p>Conversion back and forth is not lossless, so use as few conversions as
possible. If multiple conversions are necessary, use <code class="docutils literal notranslate"><span class="pre">ConvertBackToYUY2</span></code> to
convert to YUY2, if your source already has already once been YUY2. This will
reduce colorblurring, but there is still some precision lost.</p>
<p>In most cases, the <code class="docutils literal notranslate"><span class="pre">ConvertToRGB</span></code> filter should not be necessary. If
Avisynth’s output is in YUY2 format and an application expects RGB, the
system will use the installed YUY2 codec to make the conversion. However, if
there’s no installed YUY2 codec, or if (as is the case with ATI’s and some
other YUY2 codec) the codec converts from YUY2 to RGB incorrectly, you can
use AviSynth’s built-in filter to convert instead.</p>
</div>
<div class="section" id="conversion-paths">
<h2>Conversion paths<a class="headerlink" href="#conversion-paths" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>The <em>ChromaInPlacement</em>, <em>chromaresample</em> and <em>ChromaOutPlacement</em>
options are only used in the ‘planar conversion part’ of the conversion
path, and they process the chroma of the clip.</li>
</ul>
<p>In v2.60 the following conversion paths occur</p>
<ul class="simple">
<li>YUV planar -&gt; RGB via YV24</li>
<li>YUV planar -&gt; YUY2 via YV16 (except for YV12 and parameters
<em>ChromaInPlacement</em>/<em>chromaresample</em> not explicitly set”, in that case
there is a direct conversion from YV12 to YUY2)</li>
<li>RGB -&gt; YUV planar via YV24</li>
<li>YUY2 -&gt; YUV planar via YV16 (except for YV12 and parameters
<em>ChromaInPlacement</em>/<em>chromaresample</em> not explicitly set”, in that case
there is a direct conversion from YUY2 to YV12)</li>
</ul>
<p>Suppose you have a YUY2 clip for example and you convert it to YV24. The YUY2
will be converted to YV16 first without applying <em>ChromaInPlacement</em>,
<em>chromaresample</em> and <em>ChromaOutPlacement</em>. Then YV16 will be converted to
YV24 while applying <em>chromaresample</em>. <em>ChromaInPlacement</em> and
<em>ChromaOutPlacement</em> won’t be used since YV12 is not involved.</p>
</div>
<div class="section" id="sampling">
<h2>Sampling<a class="headerlink" href="#sampling" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../advancedtopics/sampling.html"><span class="doc">This part of the documentation</span></a> covers the sampling methods and color formats in more detail.</p>
</div>
<div class="section" id="color-conversions">
<h2>Color conversions<a class="headerlink" href="#color-conversions" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../advancedtopics/color_conversions.html"><span class="doc">This page</span></a> covers the color conversions, “YUV &lt;-&gt; RGB”, in more detail.</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Changes:</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>v2.60</td>
<td>Added: ConvertToY8, ConvertToYV411,
ConvertToYV16, ConvertToYV24,
ChromaInPlacement, ChromaOutPlacement and
chromaresample, matrix=”AVERAGE”</td>
</tr>
<tr class="row-odd"><td>v2.50</td>
<td>ConvertToYV12</td>
</tr>
</tbody>
</table>
<p>$Date: 2011/12/04 15:28:44 $</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="convertaudio.html" title="ConvertAudio"
             >next</a> |</li>
        <li class="right" >
          <a href="conditionalreader.html" title="ConditionalReader"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">AviSynth+ 3.4 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Invisible Tree</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2000-2019, AviSynth and AviSynth+ contributors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
  </body>
</html>