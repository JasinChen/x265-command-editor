

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>ImageReader / ImageSource / ImageSourceAnim &#8212; AviSynth+ 3.4 documentation</title>
    <link rel="stylesheet" href="../../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/bizstyle.js"></script>
    <link rel="shortcut icon" href="../../_static/AvsiDoc.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="ImageWriter" href="imagewriter.html" />
    <link rel="prev" title="Histogram" href="histogram.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="imagewriter.html" title="ImageWriter"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="histogram.html" title="Histogram"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">AviSynth+ 3.4 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Invisible Tree</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/DocIcon-Large.svg" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="histogram.html"
                        title="previous chapter">Histogram</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="imagewriter.html"
                        title="next chapter">ImageWriter</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/avisynthdoc/corefilters/imagesource.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="imagereader-imagesource-imagesourceanim">
<h1>ImageReader / ImageSource / ImageSourceAnim<a class="headerlink" href="#imagereader-imagesource-imagesourceanim" title="Permalink to this headline">¶</a></h1>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">ImageReader</span></code> (string “file”, int “start”, int “end”, float “fps”, bool
“use_DevIL”, bool “info”, string “pixel_type”)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">ImageSource</span></code> (string “file”, int “start”, int “end”, float “fps”, bool
“use_DevIL”, bool “info”, string “pixel_type”)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">ImageSourceAnim</span></code> (string “file”, float “fps”, bool “info”, string
“pixel_type”)</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">ImageReader</span></code> is present in <em>v2.52</em>, it replaces WarpEnterprises’ plugin,
with some minor functionality changes. As of <em>v2.55</em> <code class="docutils literal notranslate"><span class="pre">ImageSource</span></code> is
equivalent, with some minor functionality changes. <code class="docutils literal notranslate"><span class="pre">ImageSource</span></code> is faster
than <code class="docutils literal notranslate"><span class="pre">ImageReader</span></code> when importing one picture.</p>
<p>file: template for the image file(s), where frame number substitution can be
specified using <a class="reference external" href="http://www.cplusplus.com/reference/clibrary/cstdio/sprintf/">sprintf syntax</a>. For example, the files written by
<a class="reference internal" href="imagewriter.html"><span class="doc">ImageWriter</span></a>’s default parameters can be referenced with
<code class="docutils literal notranslate"><span class="pre">&quot;c:\%06d.ebmp&quot;</span></code>. As of v2.56 if the template points to a single file then
that file is read once and subsequently returned for all requested frames.</p>
<p><em>start</em> = 0, <em>end</em> = 1000: Specifies the starting and ending numbers used for
filename generation. The file corresponding to start is always frame 0 in the
clip, the file corresponding to end is frame (end-start). The resulting clip
has (end-start+1) frames. <code class="docutils literal notranslate"><span class="pre">end=0</span></code> does NOT mean ‘no upper bound’ as with
<a class="reference internal" href="imagewriter.html"><span class="doc">ImageWriter</span></a>. The first file in the sequence, i.e., corresponding
to ‘start’, MUST exist in order for clip parameters to be computed. Any
missing files in the sequence are replaced with a blank frame.</p>
<p><em>fps</em> = 24: frames per second of returned clip. An integer value prior to
<em>v2.55</em>.</p>
<p><em>use_DevIL</em> = false: When false, an attempt is made to parse (E)BMP files with
the internal parser, upon failure (prior to v2.56) DevIL processing is
invoked. When true, execution skips directly to DevIL processing. You should
only need to use this if you have BMP files you don’t want read by
<code class="docutils literal notranslate"><span class="pre">ImageReader</span></code>’s internal parser.</p>
<p><em>NOTE</em> : DevIL version 1.6.6 as shipped with Avisynth does not correctly
support DIB/BMP type files that use a pallette, these include 8 bit RGB,
Monochrome, RLE8 and RLE4. Because the failure is usually catastrophic, from
revision 2.56, internal BMP processing does not automatically fail over to
DevIL processing. Forcing DevIL processing for these file types is currently
not recommended.</p>
<p><em>info</em> = false: when true, the source filename and DevIL version is written to
each video frame (added in <em>v2.55</em>).</p>
<p><em>pixel_type</em> = “rgb24”: Allow the output pixel format to be specified, both
rgb24 and rgb32 are supported. The alpha channel is loaded only for rgb32 and
only if DevIL supports it for the loaded image format. (added in <em>v2.56</em>).</p>
<p>The resulting video clip colorspace is RGB if DevIL is used, otherwise it is
whatever colorspace an EBMP sequence was written from (all AviSynth formats
are supported).</p>
<p>Supported formats are:</p>
<ul class="simple">
<li>(e)bmp, dds, ebmp, jpg/jpe/jpeg, pal, pcx, png, pbm/pgm/ppm, raw,
sgi/bw/rgb/rgba, tga, tif/tiff.</li>
<li>gif, exr, jp2, psd, hdr. [all of them require 1.7.8 DevIL.dll]</li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">ImageSourceAnim</span></code> (added in <em>v2.60</em>; requires 1.7.8 DevIL.dll) lets you
import animations (gif, ppm, tiff or psd). If there is a delay between the
first and second image in the animation, the framerate is set accordingly. If
this delay is zero, the framerate is set to 24 fps by default (and can be
adjusted by setting the <em>fps</em> parameter). Note that <em>pixel_type</em> is set to
RGB32 by default. If the images in the animation have unequal dimensions,
then the dimension of the first image is taken and the remaining images are
padded with black pixels below and or to the right.</p>
<p>1.7.8 DevIL.dll can be downloaded <a class="reference external" href="https://sourceforge.net/projects/openil/files/DevIL%20Win32/1.7.8/DevIL-EndUser-x86-1.7.8.zip">here</a>. Just put the DevIL.dll in your
system folder (it will overwrite the 1.6.6 DevIL.dll which comes with
AviSynth). Be sure to use the non-unicode version, because the other one
will result in crashes when loading pictures.</p>
<p>DevIL.dll 1.7.8 requires the 2005 VC runtime libraries to be correctly
installed: <a class="reference external" href="http://www.microsoft.com/downloads/details.aspx?familyid=200B2FD9-AE1A-4A14-984D-389C36F85647&amp;displaylang=en">Visual C++ 2005 SP1 Redistributable Package (x86)</a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Default parameters: read a 1000-frame native AviSynth EBMP sequence (at 24 fps)</span>
<span class="n">ImageSource</span><span class="p">()</span>

<span class="c1"># Read files &quot;100.jpeg&quot; through &quot;199.jpeg&quot; into an</span>
<span class="n">NTSC</span> <span class="n">clip</span>
<span class="n">ImageSource</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2">.jpeg&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">199</span><span class="p">,</span> <span class="mf">29.97</span><span class="p">)</span>
<span class="c1"># Note: floating-point fps available in v2.56</span>

<span class="c1"># Read files &quot;00.bmp&quot;</span>
<span class="n">through</span> <span class="s2">&quot;50.bmp&quot;</span> <span class="n">bypassing</span> <span class="n">AviSynth</span><span class="s1">&#39;s internal BMP reader</span>
<span class="n">ImageSource</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%02d</span><span class="s2">.bmp&quot;</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span> <span class="n">use_DevIL</span> <span class="o">=</span> <span class="n">true</span><span class="p">)</span>

<span class="c1"># Read a single</span>
<span class="n">image</span><span class="p">,</span> <span class="n">repeat</span> <span class="mi">300</span> <span class="n">times</span>
<span class="n">ImageSource</span><span class="p">(</span><span class="s2">&quot;static.png&quot;</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span> <span class="n">use_DevIL</span><span class="o">=</span><span class="n">true</span><span class="p">)</span>
<span class="c1"># Much, much faster in v2.56</span>

<span class="c1"># Read a greyscale (8-bit) jpg:</span>
<span class="n">ImageSource</span><span class="p">(</span><span class="s2">&quot;GoldPetals-8bit.jpg&quot;</span><span class="p">,</span> <span class="n">use_DevIL</span><span class="o">=</span><span class="n">true</span><span class="p">)</span>

<span class="c1"># Read a greyscale (8-bit) BMP (using AviSynth&#39;s internal BMP reader):</span>
<span class="n">ImageSource</span><span class="p">(</span><span class="s2">&quot;GoldPetals-8bit.bmp&quot;</span><span class="p">)</span>

<span class="c1"># Read a YV24 BMP (created with ImageWriter):</span>
<span class="n">ImageSource</span><span class="p">(</span><span class="s2">&quot;GoldPetals-24bit.ebmp&quot;</span><span class="p">)</span>

<span class="c1"># Use a still-frame image with audio:</span>
<span class="n">audio</span> <span class="o">=</span> <span class="n">DirectShowSource</span><span class="p">(</span><span class="s2">&quot;Gina La Piana - Start Over.flv&quot;</span><span class="p">)</span>
<span class="n">video</span> <span class="o">=</span> <span class="n">ImageSource</span><span class="p">(</span><span class="s2">&quot;Gina La Piana.jpg&quot;</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">ceil</span><span class="p">(</span><span class="mi">25</span><span class="o">*</span><span class="n">AudioLengthF</span><span class="p">(</span><span class="n">audio</span><span class="p">)</span><span class="o">/</span><span class="n">AudioRate</span><span class="p">(</span><span class="n">audio</span><span class="p">)))</span>
<span class="k">return</span> <span class="n">AudioDub</span><span class="p">(</span><span class="n">video</span><span class="p">,</span> <span class="n">audio</span><span class="p">)</span>

<span class="c1"># Read an animation:</span>
<span class="n">ImageSourceAnim</span><span class="p">(</span><span class="s2">&quot;F:\TestPics\8bit_animated.gif&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Notes:</strong></p>
<ul class="simple">
<li>“EBMP” is an AviSynth extension of the standard Microsoft RIFF image
format that allows you to save raw image data (all color formats are
supported). See <a class="reference internal" href="imagewriter.html"><span class="doc">ImageWriter</span></a> for more details.</li>
<li>Greyscale BMPs are not read and written correctly by DevIL. They
should be opened using <strong>use_DevIL=false</strong>.</li>
<li>DevIL version 1.6.7 as shipped with AviSynth does not correctly
support DIB/BMP type files that use a pallette, these include 8 bit RGB,
Monochrome, RLE8 and RLE4. Loading those images requires DevIL version
1.7.8. (Because the failure is usually catastrophic, from revision v2.56,
internal BMP processing does not automatically fail over to DevIL
processing. Forcing DevIL processing with the shipped DevIL version for
these file types is currently not recommended.)</li>
</ul>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Changes</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>v2.60</td>
<td><ul class="first last simple">
<li>Added ImageSourceAnim.</li>
<li>Support user upgrade to 1.7.8 DevIL.dll
(need to manage CRT dependancies).</li>
<li>Palette and compressed bmp images load correctly now
(issue 894702) [requires 1.7.8 DevIL.dll]</li>
<li>Support for other formats like: gif, exr, jp2, psd, hdr
[requires 1.7.8 DevIL.dll]</li>
<li>Opening greyscale images (as Y8) added; EBMP supports
all color formats.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>$Date: 2012/10/10 13:41:51 $</p>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="imagewriter.html" title="ImageWriter"
             >next</a> |</li>
        <li class="right" >
          <a href="histogram.html" title="Histogram"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">AviSynth+ 3.4 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Invisible Tree</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2000-2019, AviSynth and AviSynth+ contributors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
  </body>
</html>