

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>TCPServer / TCPSource &#8212; AviSynth+ 3.4 documentation</title>
    <link rel="stylesheet" href="../../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/bizstyle.js"></script>
    <link rel="shortcut icon" href="../../_static/AvsiDoc.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="TimeStretch" href="timestretch.html" />
    <link rel="prev" title="SwapFields" href="swapfields.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="timestretch.html" title="TimeStretch"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="swapfields.html" title="SwapFields"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">AviSynth+ 3.4 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Invisible Tree</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/DocIcon-Large.svg" alt="Logo"/>
            </a></p>
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">TCPServer / TCPSource</a><ul>
<li><a class="reference internal" href="#syntax">Syntax</a><ul>
<li><a class="reference internal" href="#server">Server</a></li>
<li><a class="reference internal" href="#client">Client</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#usability-notes">Usability Notes</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="swapfields.html"
                        title="previous chapter">SwapFields</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="timestretch.html"
                        title="next chapter">TimeStretch</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/avisynthdoc/corefilters/tcpdeliver.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tcpserver-tcpsource">
<h1>TCPServer / TCPSource<a class="headerlink" href="#tcpserver-tcpsource" title="Permalink to this headline">¶</a></h1>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">TCPServer</span></code> (clip, int “port”)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">TCPSource</span></code> (string hostname, int “port”, string “compression”)</div>
</div>
<p>This filter will enable you to send clips over your network. You can connect
several clients to the same machine.</p>
<div class="section" id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<div class="section" id="server">
<h3>Server<a class="headerlink" href="#server" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">TCPServer</span></code> (clip, int “port”)</p>
<p>This will spawn a server thread on the current machine running on the
specified port. Port default is 22050.
You will get output in the application you open your script in, but the
server will only be running as long as the application (vdub for instance) is
open.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Colorbars</span><span class="p">(</span><span class="mi">512</span><span class="p">,</span> <span class="mi">256</span><span class="p">)</span>
<span class="n">TCPServer</span><span class="p">()</span>
</pre></div>
</div>
<p>will start a server.</p>
</div>
<div class="section" id="client">
<h3>Client<a class="headerlink" href="#client" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">TCPSource</span></code> (string hostname, int “port”, string “compression”)</p>
<p>This will connect to the machine with the given address (IP-number for
instance) to a server running on the given port. Port default is also 22050
here.</p>
<p>Compression enable you to choose the compression used for the video:</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Compression Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>None</td>
<td>Use no compression. Fastest option - video will not be compressed before
being sent over the net.</td>
</tr>
<tr class="row-odd"><td>LZO</td>
<td>Use <a class="reference external" href="http://www.oberhumer.com/opensource/lzo/">LZO</a> dictionary compression. Fairly fast, but only compresses well
on artificial sources, like cartoons and anime with very uniform surfaces.</td>
</tr>
<tr class="row-even"><td>Huffman</td>
<td>Uses a fairly slow Huffman routine by <a class="reference external" href="http://bcl.sourceforge.net/">Marcus Geelnard</a>. Compresses
natural video better than LZO.</td>
</tr>
<tr class="row-odd"><td>GZip</td>
<td>Uses a <a class="reference external" href="http://www.gzip.org/">Gzip</a> Huffman only compression. Works much like Huffman
setting, but seems faster.</td>
</tr>
</tbody>
</table>
<p>If no compression is given, GZip is currently used by default. Interlaced
material compresses worse than non-interlaced due to downwards deltaencoding.
If network speed is a problem you might want to use <a class="reference internal" href="separatefields.html"><span class="doc">SeparateFields</span></a>.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TCPSource</span><span class="p">(</span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">)</span>
<span class="n">Info</span><span class="p">()</span>
</pre></div>
</div>
<p>This will connect to the local machine, if a server is running.</p>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>You can use this to run each/some filters on different PC’s. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#Clustermember 1:</span>
<span class="n">AVISource</span>
<span class="n">Deinterlacer</span>
<span class="n">TCPServer</span>

<span class="c1"># Clustermember 2:</span>
<span class="n">TCPSource</span>
<span class="n">Sharpener</span>
<span class="n">TCPServer</span>

<span class="c1"># Clustermember 3:</span>
<span class="n">TCPSource</span>
<span class="c1"># client app -&gt; video codec -&gt; final file</span>
</pre></div>
</div>
</div>
<div class="section" id="usability-notes">
<h2>Usability Notes<a class="headerlink" href="#usability-notes" title="Permalink to this headline">¶</a></h2>
<p>Once you have added a TCPServer, you cannot add more filters to the chain, or
use the output from the filter. The server runs in a separate thread, but
since AviSynth isn’t completely thread-safe you cannot reliably run multiple
servers. This should <strong>not</strong> be used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AviSource</span><span class="p">(</span><span class="s2">&quot;avi.avi&quot;</span><span class="p">)</span>
<span class="n">TCPServer</span><span class="p">(</span><span class="mi">1001</span><span class="p">)</span>
<span class="n">TCPServer</span><span class="p">(</span><span class="mi">1002</span><span class="p">)</span> <span class="c1"># This is NOT a good idea</span>
</pre></div>
</div>
<p>So the basic rule is <strong>never more than one TCPServer per script</strong>.</p>
<p>Using commands after TCPServer is also a bad idea:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AviSource</span><span class="p">(</span><span class="s2">&quot;avi.avi&quot;</span><span class="p">)</span>
<span class="n">TCPServer</span><span class="p">(</span><span class="mi">1001</span><span class="p">)</span>
<span class="n">AviSource</span><span class="p">(</span><span class="s2">&quot;avi2.avi&quot;</span><span class="p">)</span> <span class="c1"># Do not do this, this will disable the server.</span>
</pre></div>
</div>
<p>AviSynth detects that the output of TCPServer isn’t used, so it kills the
Server filter. <strong>TCPServer should always be the last filter.</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="39%" />
<col width="61%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Changelog</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>v2.55</td>
<td>Initial Release</td>
</tr>
</tbody>
</table>
<p>$Date: 2006/01/02 14:51:17 $</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="timestretch.html" title="TimeStretch"
             >next</a> |</li>
        <li class="right" >
          <a href="swapfields.html" title="SwapFields"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">AviSynth+ 3.4 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Invisible Tree</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2000-2019, AviSynth and AviSynth+ contributors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
  </body>
</html>