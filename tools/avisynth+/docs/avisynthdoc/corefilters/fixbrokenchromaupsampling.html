

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>FixBrokenChromaUpsampling &#8212; AviSynth+ 3.4 documentation</title>
    <link rel="stylesheet" href="../../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/bizstyle.js"></script>
    <link rel="shortcut icon" href="../../_static/AvsiDoc.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="FixLuminance" href="fixluminance.html" />
    <link rel="prev" title="FadeIn / FadeIn0 / FadeIn2 / FadeIO0 / FadeIO / FadeIO2 / FadeOut / FadeOut0 / FadeOut2" href="fade.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="fixluminance.html" title="FixLuminance"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="fade.html" title="FadeIn / FadeIn0 / FadeIn2 / FadeIO0 / FadeIO / FadeIO2 / FadeOut / FadeOut0 / FadeOut2"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">AviSynth+ 3.4 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Invisible Tree</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/DocIcon-Large.svg" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="fade.html"
                        title="previous chapter">FadeIn / FadeIn0 / FadeIn2 / FadeIO0 / FadeIO / FadeIO2 / FadeOut / FadeOut0 / FadeOut2</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="fixluminance.html"
                        title="next chapter">FixLuminance</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/avisynthdoc/corefilters/fixbrokenchromaupsampling.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="fixbrokenchromaupsampling">
<h1>FixBrokenChromaUpsampling<a class="headerlink" href="#fixbrokenchromaupsampling" title="Permalink to this headline">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">FixBrokenChromaUpsampling</span></code> (clip)</p>
<p>The free Canopus DV Codec v1.00 upsamples the chroma channels incorrectly
(although newer non-free versions appear to work fine). Chroma is <a class="reference external" href="http://forum.doom9.org/showthread.php?p=180052#post180052">duplicated
from the other field</a>, resulting in the famous <a class="reference internal" href="../advancedtopics/sampling.html"><span class="doc">Chroma Upsampling Error</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">FixBrokenChromaUpsampling</span></code> filter compensates for it. You should put this
after AviSource if you’re using the above Canopus DV codec. Old versions of
the DirectShow based MS DV codec also might have this problem (the one that
comes with DirectX7 (but i need to check this), the one that comes with
DirectX8/9 works fine).</p>
<p>The Canopus DV codec swaps the chroma of the middle 2 for each group of 4
lines:</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">frame_correct</th>
<th class="head">frame_Canopus</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>line 1</td>
<td>line 1</td>
</tr>
<tr class="row-odd"><td>line 2</td>
<td>line 3</td>
</tr>
<tr class="row-even"><td>line 3</td>
<td>line 2</td>
</tr>
<tr class="row-odd"><td>line 4</td>
<td>line 4</td>
</tr>
<tr class="row-even"><td>line 5</td>
<td>line 5</td>
</tr>
<tr class="row-odd"><td>line 6</td>
<td>line 7</td>
</tr>
<tr class="row-even"><td>line 7</td>
<td>line 6</td>
</tr>
<tr class="row-odd"><td>line 8</td>
<td>line 8</td>
</tr>
</tbody>
</table>
<p>For each group of 4 lines <code class="docutils literal notranslate"><span class="pre">FixBrokenChromaUpsampling</span></code> corrects this by
swapping the chroma of the middle 2 back:</p>
<p>$Date: 2005/11/08 12:37:33 $</p>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="fixluminance.html" title="FixLuminance"
             >next</a> |</li>
        <li class="right" >
          <a href="fade.html" title="FadeIn / FadeIn0 / FadeIn2 / FadeIO0 / FadeIO / FadeIO2 / FadeOut / FadeOut0 / FadeOut2"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">AviSynth+ 3.4 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Invisible Tree</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2000-2019, AviSynth and AviSynth+ contributors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
  </body>
</html>