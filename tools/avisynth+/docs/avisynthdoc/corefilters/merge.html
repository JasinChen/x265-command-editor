

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Merge / MergeChroma / MergeLuma &#8212; AviSynth+ 3.4 documentation</title>
    <link rel="stylesheet" href="../../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/bizstyle.js"></script>
    <link rel="shortcut icon" href="../../_static/AvsiDoc.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="MergeChannels" href="mergechannels.html" />
    <link rel="prev" title="MaskHS" href="maskhs.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="mergechannels.html" title="MergeChannels"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="maskhs.html" title="MaskHS"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">AviSynth+ 3.4 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Invisible Tree</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/DocIcon-Large.svg" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="maskhs.html"
                        title="previous chapter">MaskHS</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="mergechannels.html"
                        title="next chapter">MergeChannels</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/avisynthdoc/corefilters/merge.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="merge-mergechroma-mergeluma">
<h1>Merge / MergeChroma / MergeLuma<a class="headerlink" href="#merge-mergechroma-mergeluma" title="Permalink to this headline">Â¶</a></h1>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Merge</span></code> (clip1, clip2, float weight=0.5)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">MergeChroma</span></code> (clip1, clip2, float weight=1.0)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">MergeLuma</span></code> (clip1, clip2, float weight=1.0)</div>
</div>
<p>These filters make it possible to merge pixels (or, for YUV clips only, just
the luma or chroma) from one videoclip into another. There is an optional
weighting, so a percentage between the two clips can be specified. <code class="docutils literal notranslate"><span class="pre">Merge</span></code>
is present in <em>v2.56</em>.</p>
<p><em>clip1</em> is the clip that has the appropriate data merged INTO (based on which
filter you use). In the case of <code class="docutils literal notranslate"><span class="pre">MergeLuma</span></code> or <code class="docutils literal notranslate"><span class="pre">MergeChroma</span></code>, that
means that the OTHER channel (chroma or luma respectively) is completely
untouched.</p>
<p><em>clip2</em> is the one from which the pixel data must be taken. In <code class="docutils literal notranslate"><span class="pre">MergeChroma</span></code>,
this is where the Chroma will be taken from, and vice-versa for
<code class="docutils literal notranslate"><span class="pre">MergeLuma</span></code>. It must be the same colorspace as clip1; i.e. you cannot merge
from a YV12 clip into a YUY2 clip.</p>
<p>The <em>weight</em> defines how much influence the new clip should have. Range is 0.0
to 1.0, where 0.0 is no influence and 1.0 will completely overwrite the
specified channel. The default is 0.5 for <code class="docutils literal notranslate"><span class="pre">Merge</span></code> and 1.0 for <code class="docutils literal notranslate"><span class="pre">MergeChroma</span></code>
and <code class="docutils literal notranslate"><span class="pre">MergeLuma</span></code>. The filter will be slightly slower when a weight other than
0.0, 0.5 or 1.0 is specified.</p>
<p>Also see <a class="reference internal" href="../syntax/syntax.html#multiclip"><span class="std std-ref">here</span></a> for the resulting clip properties.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Will only blur the Luma channel.</span>
<span class="n">mpeg2source</span><span class="p">(</span><span class="s2">&quot;c:</span><span class="se">\a</span><span class="s2">pps</span><span class="se">\a</span><span class="s2">visynth\main.d2v&quot;</span><span class="p">)</span>
<span class="n">lumvid</span> <span class="o">=</span> <span class="n">Blur</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="n">MergeLuma</span><span class="p">(</span><span class="n">lumvid</span><span class="p">)</span>

<span class="c1"># This will do a Spatial Smooth on the Chroma channel</span>
<span class="c1"># that will be mixed 50/50 with the original image.</span>
<span class="n">mpeg2source</span><span class="p">(</span><span class="s2">&quot;c:</span><span class="se">\a</span><span class="s2">pps</span><span class="se">\a</span><span class="s2">visynth\main.d2v&quot;</span><span class="p">)</span>
<span class="n">chromavid</span> <span class="o">=</span> <span class="n">SpatialSmoother</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">MergeChroma</span><span class="p">(</span><span class="n">chromavid</span><span class="p">,</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># This will run a temporalsmoother and a soft spatial</span>
<span class="c1"># smoother on the Luma channel, and a more agressive</span>
<span class="c1"># spatial smoother on the Chroma channel.</span>
<span class="c1"># The original luma channel is then added with the</span>
<span class="c1"># smoothed version at 75%. The chroma channel is</span>
<span class="c1"># fully replaced with the blurred version.</span>
<span class="n">mpeg2source</span><span class="p">(</span><span class="s2">&quot;c:</span><span class="se">\a</span><span class="s2">pps</span><span class="se">\a</span><span class="s2">visynth\main.d2v&quot;</span><span class="p">)</span>
<span class="n">luma</span> <span class="o">=</span> <span class="n">TemporalSmoother</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">luma</span> <span class="o">=</span> <span class="n">luma</span><span class="o">.</span><span class="n">Spatialsmoother</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">chroma</span> <span class="o">=</span> <span class="n">Spatialsmoother</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">40</span><span class="p">)</span>
<span class="n">MergeLuma</span><span class="p">(</span><span class="n">luma</span><span class="p">,</span><span class="mf">0.75</span><span class="p">)</span>
<span class="n">MergeChroma</span><span class="p">(</span><span class="n">chroma</span><span class="p">)</span>

<span class="c1"># This will average two video sources.</span>
<span class="n">avisource</span><span class="p">(</span><span class="s2">&quot;c:</span><span class="se">\a</span><span class="s2">pps</span><span class="se">\a</span><span class="s2">visynth\main.avi&quot;</span><span class="p">)</span>
<span class="n">vid2</span> <span class="o">=</span> <span class="n">avisource</span><span class="p">(</span><span class="s2">&quot;c:</span><span class="se">\a</span><span class="s2">pps</span><span class="se">\a</span><span class="s2">visynth\main2.avi&quot;</span><span class="p">)</span>
<span class="n">Merge</span><span class="p">(</span><span class="n">vid2</span><span class="p">)</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="46%" />
<col width="54%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Changelog</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>v2.56</td>
<td>added Merge</td>
</tr>
</tbody>
</table>
<p>$Date: 2010/04/04 16:46:19 $</p>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="mergechannels.html" title="MergeChannels"
             >next</a> |</li>
        <li class="right" >
          <a href="maskhs.html" title="MaskHS"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">AviSynth+ 3.4 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Invisible Tree</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2000-2019, AviSynth and AviSynth+ contributors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
  </body>
</html>