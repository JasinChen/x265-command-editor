

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>AviSynth Syntax - Plugins &#8212; AviSynth+ 3.4 documentation</title>
    <link rel="stylesheet" href="../../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/bizstyle.js"></script>
    <link rel="shortcut icon" href="../../_static/AvsiDoc.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="AviSynth Syntax" href="syntax_ref.html" />
    <link rel="prev" title="AviSynth Syntax - Operators" href="syntax_operators.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="syntax_ref.html" title="AviSynth Syntax"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="syntax_operators.html" title="AviSynth Syntax - Operators"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">AviSynth+ 3.4 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Invisible Tree</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/DocIcon-Large.svg" alt="Logo"/>
            </a></p>
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">AviSynth Syntax - Plugins</a><ul>
<li><a class="reference internal" href="#plugin-autoload-and-name-precedence-v2">Plugin autoload and name precedence (v2)</a></li>
<li><a class="reference internal" href="#plugin-autoload-and-conflicting-function-names-v2-55">Plugin autoload and conflicting function names (v2.55)</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="syntax_operators.html"
                        title="previous chapter">AviSynth Syntax - Operators</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="syntax_ref.html"
                        title="next chapter">AviSynth Syntax</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/avisynthdoc/syntax/syntax_plugins.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="avisynth-syntax-plugins">
<h1>AviSynth Syntax - Plugins<a class="headerlink" href="#avisynth-syntax-plugins" title="Permalink to this headline">¶</a></h1>
<p>With these functions you can add external functions to AviSynth.</p>
<p><code class="docutils literal notranslate"><span class="pre">LoadPlugin</span></code> (“filename” [, …])</p>
<p>Loads one or more external avisynth plugins (DLLs).</p>
<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">LoadVirtualDubPlugin</span></code> (“filename”, “filtername”, preroll)</p>
<p>This loads a plugin written for VirtualDub. “filename” is the name of the
.vdf file. After calling this function, the filter will be known as
“filtername” in avisynth. VirtualDub filters only supports RGB32. If the
video happens to be in RGB24-format, then you must use <code class="docutils literal notranslate"><span class="pre">ConvertToRGB32</span></code>
(<code class="docutils literal notranslate"><span class="pre">ConvertToRGB</span></code> won’t suffice).</p>
<p>Some filters output depends on previous frames; for those preroll should be
set to at least the number of frames the filter needs to pre-process to fill
its buffers and/or updates its internal variables.</p>
<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">LoadVFAPIPlugin</span></code> (“filename”, “filtername”)</p>
<p>This allows you to use VFAPI plugins (TMPGEnc import plugins).</p>
<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">LoadCPlugin</span></code> (“filename” [, …])
<code class="docutils literal notranslate"><span class="pre">Load_Stdcall_Plugin</span></code> (“filename” [, …])</p>
<p>Loads so called Avisynth C-plugins (DLLs).
Load_Stdcall_Plugin() is an alias for LoadCPlugin().
C-plugins are created on pure C language and use special “AviSynth C API”
(unlike ordinary Avisynt plugins which are created with MS C++). C-plugins
must be loaded with LoadCPlugin() or Load_Stdcall_Plugin().</p>
<p>Kevin provides a LoadCPlugin.dll that overloads the LoadCPlugin() verb to
support plugins compiled using the C subroutine calling sequence, use
Load_Stdcall_Plugin() to load stdcall calling sequence plugins when using
Kevins version. Advice: keep these plugins outside your auto plugin loading
directory to prevent crashes. <a class="reference external" href="http://forum.doom9.org/showthread.php?s=&amp;threadid=58840">[discussion]</a> <a class="reference external" href="http://kevin.atkinson.dhs.org/avisynth_c/">[AVISynth C API (by
kevina20723)]</a></p>
<hr class="docutils" />
<div class="section" id="plugin-autoload-and-name-precedence-v2">
<h2>Plugin autoload and name precedence (v2)<a class="headerlink" href="#plugin-autoload-and-name-precedence-v2" title="Permalink to this headline">¶</a></h2>
<p>It is possible to put all plugins and script files with user-defined
functions or (global) variables in a directory from where all files with the
extension .AVSI (<strong>v2.08, v2.5</strong>, the type was .AVS in <strong>v2.05-2.07</strong>) and
.DLL are loaded at startup, unloaded and then loaded dynamically as the
script needs them.</p>
<p>.AVSI scripts in this directory should only contain function definitions and
global variables, no main processing section (else strange errors may occur),
it also is not recommended to put other files in that directory.</p>
<p>The directory is stored in the registry (the registry key has changed for
<strong>v2.5</strong>). You can use double-clicking a .REG-file with the following lines
to set the path (of course inserting your actual path):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">REGEDIT4</span>

<span class="p">[</span><span class="n">HKEY_LOCAL_MACHINE</span>\<span class="n">SOFTWARE</span>\<span class="n">Avisynth</span><span class="p">]</span>
<span class="s2">&quot;plugindir2_5&quot;</span><span class="o">=</span><span class="s2">&quot;c:</span><span class="se">\\</span><span class="s2">program files</span><span class="se">\\</span><span class="s2">avisynth 2.5</span><span class="se">\\</span><span class="s2">plugins&quot;</span>
</pre></div>
</div>
<p>The order in which function names take precedence is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">user</span><span class="o">-</span><span class="n">defined</span> <span class="n">function</span> <span class="p">(</span><span class="n">always</span> <span class="n">have</span> <span class="n">the</span> <span class="n">highest</span> <span class="n">priority</span><span class="p">)</span>
   <span class="n">plugin</span><span class="o">-</span><span class="n">function</span> <span class="p">(</span><span class="n">have</span> <span class="n">higher</span> <span class="n">priority</span> <span class="n">than</span> <span class="n">built</span><span class="o">-</span><span class="ow">in</span> <span class="n">functions</span><span class="p">,</span> <span class="n">they</span> <span class="n">will</span> <span class="n">override</span> <span class="n">a</span> <span class="n">built</span><span class="o">-</span><span class="ow">in</span> <span class="n">function</span><span class="p">)</span>
      <span class="n">built</span><span class="o">-</span><span class="ow">in</span> <span class="n">function</span>
</pre></div>
</div>
<p>Inside those groups the function loaded at last takes precedence, there is no
error in a namespace conflict.</p>
</div>
<div class="section" id="plugin-autoload-and-conflicting-function-names-v2-55">
<h2>Plugin autoload and conflicting function names (v2.55)<a class="headerlink" href="#plugin-autoload-and-conflicting-function-names-v2-55" title="Permalink to this headline">¶</a></h2>
<p>Starting from v2.55 there is DLLName_function() support. The problem is that
two plugins can have different functions which are named the same. To call
the needed one, DLLName_function() support is added. It auto-generates the
additional names both for auto-loaded plugins and for plugins loaded with
LoadPlugin.</p>
<p><strong>Some examples:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># using fielddeinterlace from decomb510.dll</span>
<span class="n">AviSource</span><span class="p">(</span><span class="s2">&quot;D:\captures\jewel.avi&quot;</span><span class="p">)</span>
<span class="n">decomb510_fielddeinterlace</span><span class="p">(</span><span class="n">blend</span><span class="o">=</span><span class="n">false</span><span class="p">)</span>
</pre></div>
</div>
<p>Suppose you have  the plugins mpeg2dec.dll and mpeg2dec3.dll in your auto
plugin dir, and you want to load a d2v file with mpeg2dec.dll (which outputs
YUY2):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># using mpeg2source from mpeg2dec.dll</span>
<span class="n">mpeg2dec_mpeg2source</span><span class="p">(</span><span class="s2">&quot;F:\From_hell</span><span class="se">\f</span><span class="s2">rom_hell.d2v&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>or with mpeg2dec3.dll (which outputs YV12):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># using mpeg2source from mpeg2dec3.dll</span>
<span class="n">mpeg2dec3_mpeg2source</span><span class="p">(</span><span class="s2">&quot;F:\From_hell</span><span class="se">\f</span><span class="s2">rom_hell.d2v&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>$Date: 2008/04/20 19:07:34 $</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="syntax_ref.html" title="AviSynth Syntax"
             >next</a> |</li>
        <li class="right" >
          <a href="syntax_operators.html" title="AviSynth Syntax - Operators"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">AviSynth+ 3.4 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Invisible Tree</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2000-2019, AviSynth and AviSynth+ contributors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
  </body>
</html>